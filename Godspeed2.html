<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Godspeed - Ch2</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <a class="home-btn" href="https://bleppybee.github.io/" title="Home">üêù</a>
  </header>

  <div class="hex-img-wrap">
    <div class="meta">
      <div class="release">Release Date: <em>Feb-02-2023</em></div>
      <h2>Story Title: <em>Godspeed</em></h2>
      <small>Chapter 2</small>
            <div class="Translation By"><small>Translation By: Bee</small></div>
      <div class="characters">
        <strong>Characters:</strong>
         <img src="images/Heads/ES_Head_Tatsumi.png" alt="Tatsumi" >
         <img src="images/Heads/ES_Head_Hinata.png" alt="Hinata">
         <img src="images/Heads/ES_Head_Jun.png" alt="Jun">
      </div>
    </div>

    <section id="script"
      data-avatars='{"Tatsumi":"images/Icons/Tatsumi1.png","Hinata":"images/Icons/Hina1.png","Jun":"images/Icons/Jun1.png","Midori":"images/Icons/Midori1.png"}'>
      <p>:: ‚ñº Location ‚Ä¢ ‚õç Car ::</p>
<p><figure class="figure-inline"><img src="https://64.media.tumblr.com/bf14ae7ebf5fc8b387a649dbfa8897d9/a2ccdea33a7dcf75-6a/s1280x1920/57e2e0b035937b1b4707face786a91e302cf661a.pnj" /></figure>
<p><strong>Tatsumi:</strong> ~ ‚ô™</p>
<p><strong>Jun:</strong> Tatsumi-senpai, you&rsquo;re in a good mood&hellip;&hellip; woh!</p>
<p><strong>Hinata:</strong> Ahaha, we bounced again! It&rsquo;s like a fun attraction ride ~, Kazehaya senpai&rsquo;s driving can&rsquo;t be described any other way! ‚òÜ</p>
<p><strong>Jun:</strong> It&rsquo;s still a weird claim to call it a fun ride ~. If I hadn&rsquo;t taken anti-sickness medication, I might have thrown up by now.</p>
<p><strong>Hinata:</strong> Wow, sharp turns without slowing down! He just does more and more, like an action movie! If only a mysterious organization were chasing us in a helicopter! ‚òÜ</p>
<p><strong>Jun:</strong> No, no, I don&rsquo;t want to be chased&mdash;today&rsquo;s not about that kind of excitement, right, Anzu-san?</p>
<p>&hellip;?</p>
<p>(From here it&rsquo;s hard to see it. Anzu-san in the passenger seat has turned a bad complexion, right~?)</p>
<p>(The medicine might not have kicked in yet since she took it late&hellip;)</p>
<p>&hellip;Er, Tatsumi-Senpai, can I ask?</p>
<p>I&rsquo;m feeling nauseous, so pulling off on the speed might be really helpful.</p>
<p><strong>Tatsumi:</strong> Oops, excuse me. It seems that I got a little too carried away, since it&rsquo;s been a while since I&rsquo;ve driven.</p>
<p>Let&rsquo;s stop by a convenience store to take a small break</p>
<p><strong>Jun:</strong> Yes, thank you!</p>
      <p>:: One Hour Later ‚Ä¢ ‚ñº Beachside ‚Ä¢ ‚õç Car::</p>
<figure><img src="https://64.media.tumblr.com/c74085e51596006668a7feac00b0e323/a2ccdea33a7dcf75-45/s1280x1920/3d3dcd689d47ab22861cc2faa21c2483af124f46.pnj" /></figure>
<p><strong>Tatsumi:</strong> Well, we&rsquo;ve arrived at our destination&hellip;&hellip;</p>
<p>Could Jun-san and Hinata-san please hop out ahead of us?</p>
<p>It would be a shame to wake up Anzu-san&rsquo;s peaceful sleep, and I&rsquo;ll just stay here with her until she wakes up.</p>
<p>Gotcha. In that case, we&rsquo;ll take a little walk around.</p>
<p><strong>Hinata:</strong> Out I go~. Uu~, it feels so good ‚ô™ to stretch out!</p>
<p><strong>Tatsumi:</strong> &hellip;&hellip;..</p>
<p>You can smell the tide. This place is so wonderfully peaceful, untouched by the noise and busyness of the world.</p>
<p>Jun-san said one thing, but he seems fine right now&hellip;. Actually, If anything, it&rsquo;s Anzu-san who&ndash;</p>
<p>&hellip;.Ah. He must have bowed out in her place. Jun-san is such a kind child.</p>
<figure><img src="https://64.media.tumblr.com/199dc138fc3a033df41080ccb5c0413d/a2ccdea33a7dcf75-5d/s1280x1920/023c149f5027c80805ac43a24d45faa2f8b26ea0.pnj" /></figure>
<p>Oh, &hellip;Good morning, Anzu-san. Mhm, we only just arrived.</p>
<p>No, there&rsquo;s no hurry. That car sickness is still painful, isn&rsquo;t it? Rest for now.</p>
<p>&hellip;You think your motion sickness is due to fatigue and lack of sleep, since you stayed up late last night?</p>
<p>It&rsquo;s okay to blame it on my driving. You&rsquo;re too kind, aren&rsquo;t you?</p>
<p><strong>Jun:</strong> Tatsumi-senpai&hellip; Ah, Anzu-san, you&rsquo;re up!</p>
<p><strong>Hinata:</strong> We bought some ice cream from the store over there. Let&rsquo;s eat in the car.</p>
<p>&hellip;Huh? Since you slept soundly, you&rsquo;re fine now, and want to go outside instead?</p>
<p><strong>Tatsumi:</strong> It seems so. Let&rsquo;s all take a walk along the coastline.</p>
<blockquote>
      <p>:: A Few Hours Later ‚Ä¢ ‚õç Car ::</p>
</blockquote>
<figure><img src="https://64.media.tumblr.com/ca6594e715c9595444b2bc5c9b0b604e/a2ccdea33a7dcf75-22/s1280x1920/d033ffa84ebd86bddd544d97c8570bb8ee7acb0f.pnj" /></figure>
<p><strong>Tatsumi:</strong> I was going to be very conscious of driving slowly on the way back home, but&hellip;</p>
<p>It seems like that isn&rsquo;t necessary. Thanks to this traffic jam, there&rsquo;s no choice but to drive at a slow crawl.</p>
<p>I&rsquo;m probably the only person who&rsquo;s grateful about being in a traffic jam, though. Fufu&hellip;</p>
<p>Jun-san and Hinata-san are sound asleep. You can rest too, Anzu-san. I&rsquo;ll wake you up when we&rsquo;re there.</p>
<p>&hellip;Oh, you&rsquo;re saying you&rsquo;re not tired because you slept in the car on the way? Then how about I turn on the radio so Anzu-san doesn&rsquo;t feel bored?</p>
<p>Hm, seems there&rsquo;s a talk show on with comedians. They&rsquo;re in the middle of a listener request corner segment.</p>
<p>&hellip;This listener is saying they got into idols because of &ldquo;ALKALOID&rdquo;?</p>
<p>Their request song is &ldquo;Tsubasa Moratorium&rdquo; - our debut song</p>
<p>&hellip;For that to be playing at this exact moment might be a sign from God. What could it mean, hearing the voice of a fan on a program with seemingly nothing to do with idols?</p>
<p>&hellip;&hellip;&hellip;.</p>
<p>There might be more fans out there, showing their support than what I&rsquo;d initially realised.</p>
<p>I am simply human, so I won&rsquo;t be able to answer all of their prayers. Even so, I want to try as hard as possible to respond to whomever I am able, to return love with love.</p>
<p>I would like my Feature Live to reflect how much I appreciate the fans, both on the stage and within the pamphlet.</p>
<p>&ldquo;Leave it to me&rdquo;, you think? Yes, I believe I can.</p>
<p>Oh&hellip; it looks like we&rsquo;re about to be out of this traffic situation.</p>
<figure><img src="https://64.media.tumblr.com/c146b0485a2c975629347fce5b07b923/a2ccdea33a7dcf75-d0/s1280x1920/50af987a4eaa9699f9b98bbd24c38a4cc51e41ba.pnj" /></figure>
<p><strong>Hinata:</strong> Kazehaya Senpaaai&hellip;&hellip; &hellip;.It&rsquo;s getting dark and it&rsquo;s dangerous, so please drive safely~&hellip; Mumble, mumble&hellip;‚òÜ</p>
<p><strong>Tatsumi:</strong> Was that&hellip;.. sleep-talking just now? Or is he just pretending to be asleep?</p>
<figure><img src="https://64.media.tumblr.com/36ad803ab921a613b08bb40a0d046018/a2ccdea33a7dcf75-df/s1280x1920/95eee314b401b682af0d9fff159313641820322e.pnj" /></figure>
<p>Anyway, yes. I&rsquo;ll be sure to make it a safe drive back, hm? We can&rsquo;t say the drive is complete until we&rsquo;ve returned home&hellip;‚ô™</p>
      <p>:: FIN ::</p>
</div>
      </section id="script">

<!-- section id="figure"><img src="images/testcap.png" alt="testcap"></section> -->

    <div class="controls">
      <button class="btn" id="btnPrev">‚ü®‚óÄ</button>
      <button class="btn" id="btnPage">‚ãÆ</button>
      <button class="btn" id="btnNext">‚ñ∂‚ü©</button>
    </div>

  <button class="nav-btn nav-prev">‚ü®</button>
  <button class="nav-btn nav-next">‚ü©</button>
  <button class="nav-btn nav-page">‚ò∞</button>

    <script>
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function makeInitials(name){
      return name.split(/\s+/).map(w=>w[0]||"").join("").slice(0,2).toUpperCase();
    }

   (function buildDialogue(){
  const script = document.getElementById('script');
  if(!script) return;

  let avatarMap = {};
  try { avatarMap = JSON.parse(script.dataset.avatars || '{}'); }
  catch(e){ console.warn('Invalid data-avatars JSON'); }

  // üëá iterate over ALL direct children (<p>, <blockquote>, <figure>, etc.)
  const raw = Array.from(script.children);
  script.innerHTML = '';

  let sceneCount = 0;
  let lastAvatar = null;
  let lastName = null;

  raw.forEach(el => {
    // --- SCENE DIVIDER (:: ... ::) ---
    if(/^::\s*.*\s*::$/.test(el.textContent.trim())){
      const label = el.textContent.replace(/^::\s*|\s*::$/g,'').trim();
      const scene = document.createElement('div');
      scene.className = 'scene';
      scene.id = 'scene-' + (++sceneCount);
      const div = document.createElement('div');
      div.className = 'divider';
      div.innerHTML = `<div class="rule"></div><div class="chip">${label}</div><div class="rule"></div>`;
      scene.appendChild(div);
      script.appendChild(scene);
      lastAvatar = null;
      lastName = null;
      return;
    }

    // --- BLOCKQUOTE (for figure panels or styled breaks) ---
    if (el.tagName.toLowerCase() === 'blockquote') {
      let currentScene = script.lastElementChild;
      if (!currentScene || !currentScene.classList.contains('scene')) {
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }
      currentScene.appendChild(el); // just drop it in, CSS will style
      return;
    }

    // --- FIGURE (in case figure is a direct child, not wrapped in blockquote) ---
    if (el.tagName.toLowerCase() === 'figure') {
      let currentScene = script.lastElementChild;
      if (!currentScene || !currentScene.classList.contains('scene')) {
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }
      const wrapper = document.createElement('blockquote');
      wrapper.appendChild(el);
      currentScene.appendChild(wrapper);
      return;
    }

    // --- DIALOGUE (strong NAME:) ---
    if(el.querySelector('strong') && /:\s*$/.test(el.querySelector('strong').textContent)){
      const name = el.querySelector('strong').textContent.replace(/:\s*$/,'').trim();
      const contentHTML = el.innerHTML.replace(el.querySelector('strong').outerHTML,'').trim();

      let currentScene = script.lastElementChild;
      if(!currentScene || !currentScene.classList.contains('scene')){
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }

      const line = document.createElement('div');
      line.className = 'line';

      const avatar = document.createElement('div');
      avatar.className = 'avatar';
      const url = avatarMap[name] || '';
      if(url){ avatar.style.backgroundImage = `url(${url})`; }
      else { avatar.classList.add('initials'); avatar.textContent = makeInitials(name); }

      const bubbleWrap = document.createElement('div');
      bubbleWrap.className = 'bubble-wrap';
      const nameEl = document.createElement('div');
      nameEl.className = 'bubble-name';
      nameEl.textContent = name;
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.innerHTML = contentHTML;

      bubbleWrap.appendChild(nameEl);
      bubbleWrap.appendChild(bubble);
      line.appendChild(avatar);
      line.appendChild(bubbleWrap);
      currentScene.appendChild(line);

      lastAvatar = avatar;
      lastName = name;
      return;
    }

    // --- NARRATION (plain <p>) ---
    if(el.tagName.toLowerCase() === 'p'){
      let currentScene = script.lastElementChild;
      if(!currentScene || !currentScene.classList.contains('scene')){
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }
      if(lastAvatar && lastName){
        const line = document.createElement('div');
        line.className = 'line no-avatar';
        const spacer = document.createElement('div');
        spacer.style.width = '48px';
        const bubbleWrap = document.createElement('div');
        bubbleWrap.className = 'bubble-wrap';
        const bubble = document.createElement('div');
        bubble.className = 'bubble';
        bubble.innerHTML = el.innerHTML;
        bubbleWrap.appendChild(bubble);
        line.appendChild(spacer);
        line.appendChild(bubbleWrap);
        currentScene.appendChild(line);
      }
      return;
    }
  });
})();

    function currentSceneIndex(){
      const scenes = $$('#script .scene');
      const pos = window.scrollY + window.innerHeight * 0.35;
      let idx = 0;
      scenes.forEach((s,i)=>{ if(s.offsetTop <= pos) idx = i; });
      return idx;
    }

    function goTo(idx){
      const scenes = $$('#script .scene');
      if(!scenes.length) return;
      idx = Math.max(0, Math.min(idx, scenes.length-1));
      scenes[idx].scrollIntoView({behavior:'smooth', block:'start'});
    }
    document.querySelectorAll('.note').forEach(el=>{
  el.addEventListener('mouseenter', e=>{
    const tip = document.createElement('div');
    tip.className = 'tooltip';
    tip.textContent = el.dataset.note;
    document.body.appendChild(tip);
    const rect = el.getBoundingClientRect();
    const tipRect = tip.getBoundingClientRect();

    // Default above
    let top = rect.top - tipRect.height - 8;
    let left = rect.left + rect.width/2 - tipRect.width/2;

    // If off-screen above, put below
    if(top < 0) top = rect.bottom + 8;

    // Clamp horizontally
    if(left < 8) left = 8;
    if(left + tipRect.width > window.innerWidth - 8)
      left = window.innerWidth - tipRect.width - 8;

    tip.style.position = 'absolute';
    tip.style.top = top + 'px';
    tip.style.left = left + 'px';

    el._tooltip = tip;
  });

  el.addEventListener('mouseleave', e=>{
    if(el._tooltip){ el._tooltip.remove(); el._tooltip=null; }
  });
});


    $('.nav-prev').addEventListener('click', ()=>{ goTo(currentSceneIndex()-1); });
    $('.nav-next').addEventListener('click', ()=>{ goTo(currentSceneIndex()+1); });
    $('.nav-page').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/translations"; });
    $('#btnPrev').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/Godspeed2"; });
    $('#btnNext').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/Godspeed2"; });
      
// goTo(currentSceneIndex()+1); });/-->
    $('#btnPage').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/translations"; });

    window.addEventListener('keydown', (e)=>{
      if(['ArrowLeft','ArrowRight'].includes(e.key)){
        e.preventDefault();
        goTo(currentSceneIndex() + (e.key==='ArrowRight'? 1 : -1));
      }
    });

  </script>
</body>
</html>

