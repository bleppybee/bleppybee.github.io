<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Godspeed - Ch2</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <a class="home-btn" href="https://bleppybee.github.io/" title="Home">üêù</a>
  </header>

  <div class="hex-img-wrap">
    <div class="meta">
      <div class="release">Release Date: <em>Feb-02-2023</em></div>
      <h2>Story Title: <em>Godspeed</em></h2>
      <small>Chapter 1</small>
            <div class="Translation By"><small>Translation By: Bee</small></div>
      <div class="characters">
        <b>Characters:</b>
         <img src="images/Heads/ES_Head_Tatsumi.png" alt="Tatsumi" >
         <img src="images/Heads/ES_Head_Hinata.png" alt="Hinata">
         <img src="images/Heads/ES_Head_Jun.png" alt="Jun">
         <img src="images/Heads/ES_Head_Midori.png" alt="Midori">
      </div>
    </div>

    <section id="script"
      data-avatars='{"Tatsumi":"images/Icons/Tatsumi1.png","Hinata":"images/Icons/Hina1.png","Jun":"images/Icons/Jun1.png","Midori":"images/Icons/Midori1.png"}'>
      <p>:: ‚òÅ Season ‚Ä¢ ‚òÉÔ∏é Winter ::</p>
      <figure><img src="https://64.media.tumblr.com/2bd0fc61e8ebed03c25c1a4668b00190/a2ccdea33a7dcf75-92/s1280x1920/d8da9078c45d639e59ed68fdfb3692e4621f3294.pnj" /></figure>
<p><b>Tatsumi:</b> &hellip;&hellip;~‚ô™</p>
<p>Coat with soil&hellip;&hellip;&hellip; and&hellip; Everybody, please grow big and strong!</p>
<p>The daikon seeds have all been planted. How are the two of you progressing?</p>
<p><b>Hinata:</b> As expected, Kazehaya-senpai&rsquo;s super skill handy~. Over here we&rsquo;re almost finished, too.</p>
<p><b>Midori:</b>Hinata-kun, &hellip;&hellip;with carrots, you can&rsquo;t just top them with soil. You should be generous with the water, and then sprinkle it with mulch&hellip;&hellip;.</p>
<p><b>Hinata:</b> Oh~? Mulch, mulch &hellip;&hellip;er&hellip;</p>
<p>That&rsquo;s&mdash; we&rsquo;re on our last one. The shed&rsquo;s got new ones, I&rsquo;ll grab and bring them, yeah?</p>
<p><b>Tatsumi:</b> No need.</p>
<figure><img src="https://64.media.tumblr.com/cdc9d1add4f47a30725eedf17b86aaea/a2ccdea33a7dcf75-b2/s1280x1920/02605691fde671c2a8e170579ef054207ec952bf.pnj" /></figure>
<p><b>Jun:</b> Sup~! As you asked, you shall receive!</p>
<p><b>Tatsumi:</b> A convenient arrival. Hinata-san, please accept the compost from him?</p>
<p>Thank you very much for the help, Jun-san. They weigh a ton, right?</p>
<p><b>Jun:</b> Nah, this is nothing really. For you, Tatsumi-Senpai, I&rsquo;ll do anything, no problem!</p>
<p><b>Midori:</b> Uh&hellip;</p>
<p>Why&rsquo;d you carry all that on your shoulders? You could have used the hand wagon as an envoy&hellip;</p>
<p><b>Jun:</b> Isn&rsquo;t it better like this so it can double up as strength training? I get a workout, I help out Tatsumi-Senpai. Kill two birds with one stone&hellip;&hellip;. !‚òÜ</p>
<p><b>Midori:</b> Wow~, very muscle brained.</p>
<p><b>Jun:</b> Tatsumi-senpai, is there anything else I can do to assist you?</p>
<p><b>Tatsumi:</b> Would that be okay? It would be a big help. Could you take this hoe and till that field over there?</p>
<p><b>Jun:</b> Sure thing~ ‚ô™</p>
<p><b>Hinata:</b> Oh, looks like you&rsquo;re pretty good with this kind of thing~. Is it something you&rsquo;ve done before?</p>
<p><b>Jun:</b> I helped with some farm work for a show on the rural living experience. Thanks to the addition of Ohiisan&rsquo;s workload, I just got the hang of it.</p>
<p><b>Tatsumi:</b> Fufu. A reliable type&hellip;&hellip;&hellip;. Oh?</p>
<p>Hello, Anzu-san. It&rsquo;s rare to see you out here in the gardens.</p>
<p>You need me for something? Of course, what is it?</p>
<p>&ldquo;Feature Live&rdquo; &hellip;.. Yes. I&rsquo;m aware of those live performance types being held.</p>
<p>So, it&rsquo;s my turn next. There&rsquo;s still legroom on my behalf for betterment, but I&rsquo;ll do my best.</p>
<p>&hellip;Right here is where you&rsquo;d like to take the pamphlet photos? Of course. Feel free to take as much of me as you&rsquo;d like.</p>
      <p>:: After a While ::</p>
<p><b>Tatsumi:</b> &hellip;Everybody, thanks for all for your hard work today. Please come here.</p>
<p>This is a roasted corn tea made from the corn last fall that we harvested in Gardenia. Please, enjoy it with some vegetable cookies.</p>
<p>You also, Anzu-san. Did you get some decent shots? Oh, you&rsquo;ll show me? Well, by all means &hellip; ‚ô™</p>
<p><b>Hinata:</b> They&rsquo;re all good photos, but. It&rsquo;s mostly pictures messing around with the dirt. It makes it seem like they&rsquo;re of a farmer!</p>
<p>Ahaha, I guess Anzu-san was also privy to that fact, lowkey! You wanna brainstorm some different situations so you&rsquo;re asking Kazehaya-senpai about his recent interests or things he&rsquo;s been wanting to do?</p>
<p><b>Jun:</b> Oh, nice one! I wanna hear that too, I&rsquo;m seconding the ask, Tatsumi-Senpai!</p>
<p><b>Tatsumi:</b> Something I&rsquo;d like to do, huh? Let&rsquo;s see&hellip;</p>
<p>&hellip;&hellip;&hellip;&hellip;</p>
<p>A drive, yes? Since the snow has melted due to increased warmth, now would be the right season for excursioning.</p>
<p>It&rsquo;s been a wish of mine for all of &ldquo;ALKALOID&rdquo; to utilise the Spring break and go out, so I&rsquo;d feel fortunate if I could break in some road <sup><span class="note" data-note="[1] This is a lowkey pun he‚Äôs making, I think? To say ‚Äòwarm up‚Äô/‚Äòbreak in‚Äô, Tatsumi uses something akin to ‚Äòbreak in the shoulder muscles‚Äô, but the ‚Äòshoulder‚Äô can also be used to refer to the road, like a driving shoulder/pull up lane.">shoulders</span></sup>.</p>
<p>Anzu-san could do the drive with me, if you feel up to that?</p>
<p><b>Hinata:</b> Anzu-san, will this be your first time doing a drive with Kazehaya-Senpai? You&rsquo;re in for a <span class="note" data-note="[2] The original word is ‚Äòattraction‚Äô, which is an umbrella word for fair attractions and any kind of ride. So I changed ‚Äòit‚Äôs fun like an attraction‚Äô (which could mean anything), to ‚Äòfun ride‚Äô (meaning he could either be saying ‚Äòit‚Äôs a fun (car) ride‚Äô or ‚Äòit‚Äôs a literal, actual attraction funride‚Äô). I figured he was probably being intentionally vague to be a lilbit evil to Anzu.">funride</span></sup>! I&rsquo;d love to go on it again sometime~ ‚òÜ</p>
<p><b>Tatsumi:</b> Then you&rsquo;d like to join us, too, Hinata-san? The more friends, the merrier.</p>
<figure><img src="https://64.media.tumblr.com/f1ebc3e8ff80971f8de177cc344a05de/a2ccdea33a7dcf75-1e/s1280x1920/217d1745ce26557ed5af0e0db88e09655fa270d3.pnj" /></figure>
<p><b>Hinata:</b> For serious? Wwwow!‚ô™</p>
<p><b>Jun:</b> U-um! If it&rsquo;s no bother, can I&hellip; also&hellip;? ‚ô™</p>
<p><b>Tatsumi:</b> I greatly welcome you to join. And Takamine-san?</p>
<p><b>Midori:</b> Me&hellip;&hellip;? Er&hellip;.</p>
<p>(Oof. The fortitude needed to get through a drive like that&hellip; I can&rsquo;t.)</p>
<p>I already have plans that day&hellip;&hellip;&hellip;.. I&rsquo;m really sorry.</p>
<p><b>Hinata:</b> Nn? On the day with no specified date yet?</p>
<figure><img src="https://64.media.tumblr.com/a18750000a53ecb132d3149d3ad8794d/a2ccdea33a7dcf75-53/s1280x1920/5bbfc106c9c69b6984e8f8d29826545256d45e2d.pnj" /></figure>
<p><b>Midori:</b> Ah&hellip; I messed up&hellip; wrong excuse&hellip;</p>
<p><b>Jun:</b> Excuse, he says.</p>
<p><b>Tatsumi:</b> Well, well. I&rsquo;m sure he has a reason for it, it&rsquo;s never good to force disclosure.</p>
<p>So along the road, we&rsquo;ll be souveniring for Takamine-san, it seems?</p>
<p><b>Midori:</b> You don&rsquo;t have to, really&hellip; But&hellip; If there&rsquo;s a service station or something selling limited-edition <span class="note" data-note="[3] Mascot Characters.">Yuru-chara</span></sup> goods&hellip; I&rsquo;d appreciate the thought&hellip; ‚ô™</p>
      <p>:: A Few Days Later ::</p>
      <figure><img src="https://64.media.tumblr.com/a2bf8c5564374fdc0ae69ce5611f078a/a2ccdea33a7dcf75-56/s1280x1920/9e3f4d549df60cbb8b6cb971c47daecb6d3d78ab.pnj" /></figure>
<p><b>Hinata:</b> &hellip;.O~i, Anzu-san! C&rsquo;mere, c&rsquo;mere!</p>
<p><b>Jun:</b> Good morning, Anzu-san.</p>
<p>Before anything, here, take this. It&rsquo;s motion sickness medicine. When I told Shiratori-kun about the drive, he really tried to stop me&hellip;</p>
<p>He was like, &ldquo;If you&rsquo;re really that insistent on going, take this as a talisman, please.&rdquo; ~. Oh, and he said to come back alive.</p>
<p><b>Hinata:</b> Likening it to life or death is kinda overkill, yeah~?</p>
<p>&hellip;Oh, you&rsquo;re wondering what I brought the backpack for?</p>
<p>It&rsquo;s all sweets! Apparently, sweets can help with car sickness, but my main reason is just that I wanted to eat them. ‚òÜ</p>
<p>The big bags are &lsquo;family&rsquo; sized, isn&rsquo;t it too hard to bear finishing them when you&rsquo;re just one person? So I bought a lot of those while I could, and now we&rsquo;re just waiting for Tatsumi-Senpai to get here. What kind of car is he driving?</p>
<p><b>Jun:</b> Right, we&rsquo;re just waiting on Tatsumi-Senpai-now. What kind of car do you think he&rsquo;ll bring?</p>
<p>Anzu-san, what&rsquo;s that? Oh, he borrowed a company car for today?</p>
<p><b>Hinata:</b> So it&rsquo;ll be a company car&hellip;&hellip;&hellip; Oh, isn&rsquo;t that it? I recognize the car, and it&rsquo;s coming this way super fast.</p>
<p><b>Jun:</b> No, it&rsquo;s not like it&rsquo;s showing signs of stopping-</p>
<p>&hellip;Or it didn&rsquo;t seem like it. It&rsquo;s pulling up next to us.</p>
<p><b>Hinata:</b> Ahaha. What incredible break slamming! It&rsquo;s like something out of an action movie~</p>
<figure><img src="https://64.media.tumblr.com/d375045b872df87fbc258bb3e7c73825/a2ccdea33a7dcf75-ea/s1280x1920/980a816aae2b97c04baf433f565710668e65a623.pnj" /></figure>
<p><b>Tatsumi:</b> Good morning, everybody&hellip; Looks like we&rsquo;re all here, so shall we get going?</p>
      <p>:: End of Chapter 1 ::</p>
      </section id="script">

<!-- section id="figure"><img src="images/testcap.png" alt="testcap"></section> -->

    <div class="controls">
      <button class="btn" id="btnPrev">‚ü®‚óÄ</button>
      <button class="btn" id="btnPage">‚ãÆ</button>
      <button class="btn" id="btnNext">‚ñ∂‚ü©</button>
    </div>

    <div class="tl-notes">
      <h2>TL Notes</h2>
      <p>[1] This is a lowkey pun he‚Äôs making, I think? To say ‚Äòwarm up‚Äô/‚Äòbreak in‚Äô, Tatsumi uses something akin to ‚Äòbreak in the shoulder muscles‚Äô, but the ‚Äòshoulder‚Äô can also be used to refer to the road, like a driving shoulder/pull up lane.</p>
      <p>[2] The original word is ‚Äòattraction‚Äô, which is an umbrella word for fair attractions and any kind of ride. So I changed ‚Äòit‚Äôs fun like an attraction‚Äô (which could mean anything), to ‚Äòfun ride‚Äô (meaning he could either be saying ‚Äòit‚Äôs a fun (car) ride‚Äô or ‚Äòit‚Äôs a literal, actual attraction funride‚Äô). I figured he was probably being intentionally vague to be a lilbit evil to Anzu.</p>
      <p>[3] Mascot characters.</p>
    </div>
  </div>

  <button class="nav-btn nav-prev">‚ü®</button>
  <button class="nav-btn nav-next">‚ü©</button>
  <button class="nav-btn nav-page">‚ò∞</button>

  <script>
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    function makeInitials(name){
      return name.split(/\s+/).map(w=>w[0]||"").join("").slice(0,2).toUpperCase();
    }

   (function buildDialogue(){
  const script = document.getElementById('script');
  if(!script) return;

  let avatarMap = {};
  try { avatarMap = JSON.parse(script.dataset.avatars || '{}'); }
  catch(e){ console.warn('Invalid data-avatars JSON'); }

  // üëá iterate over ALL direct children (<p>, <blockquote>, <figure>, etc.)
  const raw = Array.from(script.children);
  script.innerHTML = '';

  let sceneCount = 0;
  let lastAvatar = null;
  let lastName = null;

  raw.forEach(el => {
    // --- SCENE DIVIDER (:: ... ::) ---
    if(/^::\s*.*\s*::$/.test(el.textContent.trim())){
      const label = el.textContent.replace(/^::\s*|\s*::$/g,'').trim();
      const scene = document.createElement('div');
      scene.className = 'scene';
      scene.id = 'scene-' + (++sceneCount);
      const div = document.createElement('div');
      div.className = 'divider';
      div.innerHTML = `<div class="rule"></div><div class="chip">${label}</div><div class="rule"></div>`;
      scene.appendChild(div);
      script.appendChild(scene);
      lastAvatar = null;
      lastName = null;
      return;
    }

    // --- BLOCKQUOTE (for figure panels or styled breaks) ---
    if (el.tagName.toLowerCase() === 'blockquote') {
      let currentScene = script.lastElementChild;
      if (!currentScene || !currentScene.classList.contains('scene')) {
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }
      currentScene.appendChild(el); // just drop it in, CSS will style
      return;
    }

    // --- FIGURE (in case figure is a direct child, not wrapped in blockquote) ---
    if (el.tagName.toLowerCase() === 'figure') {
      let currentScene = script.lastElementChild;
      if (!currentScene || !currentScene.classList.contains('scene')) {
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }
      const wrapper = document.createElement('blockquote');
      wrapper.appendChild(el);
      currentScene.appendChild(wrapper);
      return;
    }

    // --- DIALOGUE (strong NAME:) ---
    if(el.querySelector('b') && /:\s*$/.test(el.querySelector('b').textContent)){
      const name = el.querySelector('b').textContent.replace(/:\s*$/,'').trim();
      const contentHTML = el.innerHTML.replace(el.querySelector('b').outerHTML,'').trim();

      let currentScene = script.lastElementChild;
      if(!currentScene || !currentScene.classList.contains('scene')){
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }

      const line = document.createElement('div');
      line.className = 'line';

      const avatar = document.createElement('div');
      avatar.className = 'avatar';
      const url = avatarMap[name] || '';
      if(url){ avatar.style.backgroundImage = `url(${url})`; }
      else { avatar.classList.add('initials'); avatar.textContent = makeInitials(name); }

      const bubbleWrap = document.createElement('div');
      bubbleWrap.className = 'bubble-wrap';
      const nameEl = document.createElement('div');
      nameEl.className = 'bubble-name';
      nameEl.textContent = name;
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.innerHTML = contentHTML;

      bubbleWrap.appendChild(nameEl);
      bubbleWrap.appendChild(bubble);
      line.appendChild(avatar);
      line.appendChild(bubbleWrap);
      currentScene.appendChild(line);

      lastAvatar = avatar;
      lastName = name;
      return;
    }

    // --- NARRATION (plain <p>) ---
    if(el.tagName.toLowerCase() === 'p'){
      let currentScene = script.lastElementChild;
      if(!currentScene || !currentScene.classList.contains('scene')){
        currentScene = document.createElement('div');
        currentScene.className = 'scene';
        currentScene.id = 'scene-' + (++sceneCount);
        script.appendChild(currentScene);
      }
      if(lastAvatar && lastName){
        const line = document.createElement('div');
        line.className = 'line no-avatar';
        const spacer = document.createElement('div');
        spacer.style.width = '48px';
        const bubbleWrap = document.createElement('div');
        bubbleWrap.className = 'bubble-wrap';
        const bubble = document.createElement('div');
        bubble.className = 'bubble';
        bubble.innerHTML = el.innerHTML;
        bubbleWrap.appendChild(bubble);
        line.appendChild(spacer);
        line.appendChild(bubbleWrap);
        currentScene.appendChild(line);
      }
      return;
    }
  });
})();

    function currentSceneIndex(){
      const scenes = $$('#script .scene');
      const pos = window.scrollY + window.innerHeight * 0.35;
      let idx = 0;
      scenes.forEach((s,i)=>{ if(s.offsetTop <= pos) idx = i; });
      return idx;
    }

    function goTo(idx){
      const scenes = $$('#script .scene');
      if(!scenes.length) return;
      idx = Math.max(0, Math.min(idx, scenes.length-1));
      scenes[idx].scrollIntoView({behavior:'smooth', block:'start'});
    }
    document.querySelectorAll('.note').forEach(el=>{
  el.addEventListener('mouseenter', e=>{
    const tip = document.createElement('div');
    tip.className = 'tooltip';
    tip.textContent = el.dataset.note;
    document.body.appendChild(tip);
    const rect = el.getBoundingClientRect();
    const tipRect = tip.getBoundingClientRect();

    // Default above
    let top = rect.top - tipRect.height - 8;
    let left = rect.left + rect.width/2 - tipRect.width/2;

    // If off-screen above, put below
    if(top < 0) top = rect.bottom + 8;

    // Clamp horizontally
    if(left < 8) left = 8;
    if(left + tipRect.width > window.innerWidth - 8)
      left = window.innerWidth - tipRect.width - 8;

    tip.style.position = 'absolute';
    tip.style.top = top + 'px';
    tip.style.left = left + 'px';

    el._tooltip = tip;
  });

  el.addEventListener('mouseleave', e=>{
    if(el._tooltip){ el._tooltip.remove(); el._tooltip=null; }
  });
});


    $('.nav-prev').addEventListener('click', ()=>{ goTo(currentSceneIndex()-1); });
    $('.nav-next').addEventListener('click', ()=>{ goTo(currentSceneIndex()+1); });
    $('.nav-page').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/translations"; });
    $('#btnPrev').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/Godspeed2"; });
    $('#btnNext').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/Godspeed2"; });
      
// goTo(currentSceneIndex()+1); });/-->
    $('#btnPage').addEventListener('click', ()=>{ location = "https://bleppybee.github.io/translations"; });

    window.addEventListener('keydown', (e)=>{
      if(['ArrowLeft','ArrowRight'].includes(e.key)){
        e.preventDefault();
        goTo(currentSceneIndex() + (e.key==='ArrowRight'? 1 : -1));
      }
    });

  </script>
</body>
</html>

